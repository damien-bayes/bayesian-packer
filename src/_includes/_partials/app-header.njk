{# 
  App Header Partial

  Project: Baythium Packer
  File: /src/_includes/_partials/app-header.njk
  Initial author: Damien Bayes <damien.bayes.db@gmail.com>
#}

{# Alert #}
{%- if app.environment == "development" %}
<div class="alert alert--warning">
  <div class="alert__body">
    <p><b>{{ translation[app.locale].websiteMode | title }}:</b><span class="ml-2">{{ app.environment }}</span></p>
    <p><b>{{ translation[app.locale].currentPage | title }}:</b><span class="ml-2">{{ page.url | url }}</span></p>
  </div>
</div>
{%- endif %}

<header class="app-header">
  <div class="container">

    <!-- Deck 1: System -->
    <div class="app-header__system">
      <div class="row">
        <div class="column-6">
          <a href="javascript:">{{ translation[app.locale].ecosystem | title }}</a>
          <a href="javascript:">{{ translation[app.locale].supportCenter | title }}</a>
        </div>
        <div class="column-6" style="text-align: right;">
          <a href="javascript:">{{ translation[app.locale].signUp | title }}</a>
          <a href="javascript:">{{ translation[app.locale].signIn | title }}</a>
        </div>
      </div>
    </div>

    <!-- Deck 2 -->
    <div class="app-header__default">
      <div>
        <div class="app-header__brand">
          <a href="/">
            <img src="{{ '/' | url }}images/baythium-ecosystem.svg" alt="{{ app.name }}"/>
            {{ app.name }}
          </a>
        </div>
      </div>
      <div>
        <div class="app-header__parallelogram">
          <!-- Language switcher -->
          <div class="language-switcher">
            <span class="icon icon--language"></span>
            <span class="visible-xs">{{ translation[app.locale].language | title }}:</span>

            <a href="javascript:" class="language-switcher__link">
              {% for lang in app.languages %}
                {{ lang.label if lang.code == app.locale else "" }}
              {% endfor %}
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Deck 3: Navigation -->
    <nav class="navigation">
      <!-- <button class="navigation__button">&#8249;</button> -->
      
      <div class="navigation__wrapper">
        {%- for navigation in navigation[ app.locale ].items -%}
          {% if loop.first %}<ul class="navigation__list">{% endif %}
          
            {%- set id = navigation.id %}
            {%- set name = navigation.name %}
            {%- set url = navigation.url %}

            <li class="navigation__item" data-navigation-id="{{ id }}">
              <a class="navigation__link" href="{{ url }}">{{ name | title }}</a>
            </li>

          {% if loop.last %}</ul>{% endif %}
        {%- endfor -%}
      </div>

      <!-- <button class="navigation__button">&#8250;</button> -->
    </nav>

  </div>
</header>
