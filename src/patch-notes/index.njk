---js
{
  layout: "_layouts/base.njk",
  title: "Patch Notes",

  pagination: {
    data: "collections.patch_notes",
    size: 6,
    alias: "notes",
    reverse: true,
    before: function(data) {
      return data.map(entry => `${entry} with a suffix`);
    }
  }
}
---

<section class="section patch-notes">

  <div class="headline">
    <h1 class="headline__title">{{ title }}</h1>
    <p class="headline__description">Read the latest {{ app.name }} patch notes or research historical changes</p>
  </div>

  {# Start looping notes #}
  {% for note in notes | reverse %}
    {% if loop.first %}<ul>{% endif %}
      <li>
        <article>
          <a href="{{ note.url | url }}">
            {{ note.data.title }}
            {{ note.date | convertToReadableDate }}
          </a>
        </article>
      </li>
    {% if loop.last %}</ul>{% endif %}
  {% endfor %}

  <nav class="pagination" aria-labelledby="pagination1">
    <h2 id="pagination1">This is the pagination</h2>
    <ul class="pagination__list">
      {%- for pageEntry in pagination.pages %}

        <li>{% if pagination.href.previous %}<a href="{{ pagination.href.previous }}">Previous</a>{% else %}Previous{% endif %}</li>

          {%- for pageEntry in pagination.pages %}
            <li><a href="{{ pagination.hrefs[ loop.index0 ] }}"{% if page.url == pagination.hrefs[ loop.index0 ] %} aria-current="page"{% endif %}>Page {{ loop.index }}</a></li>
          {%- endfor %}

        <li>{% if pagination.href.next %}<a href="{{ pagination.href.next }}">Next</a>{% else %}Next{% endif %}</li>

      {%- endfor %}
    </ul>
  </nav>

</section>
